(this.webpackJsonpcone=this.webpackJsonpcone||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(7),a=n.n(i),s=n(17),o=n.n(s),c=(n(24),n(25),n(12)),u=n.n(c),d=n(16),m=n(9),h=n(0),l=n(3),p=n(1),v=n(2),f=n(6),g=n(18),j=n(14),b=function(){function e(t,n,r){Object(h.a)(this,e),this.occuracy=3,this.minEdges=3,this.maxEdges=150,this.height=t<1?1:r>100?100:t,this.radius=n<1?1:n>100?100:n,this.segments=r<this.minEdges?this.minEdges:r>this.maxEdges?this.maxEdges:r}return Object(l.a)(e,[{key:"getTopVertice",value:function(){return new f.h(0,this.height,0)}},{key:"getGeometry",value:function(e,t){var n,r,i=new f.b,a=this.get3dVertices(t);(n=i.vertices).push.apply(n,Object(j.a)(a));var s=this.getSegmentFace(this.segments),o=this.getBottomFace(e);return(r=i.faces).push.apply(r,Object(j.a)(s).concat(Object(j.a)(o))),i.computeFaceNormals(),i}},{key:"get3dVertices",value:function(e){var t,n=[],r=Object(g.a)(e);try{for(r.s();!(t=r.n()).done;){var i=Object(m.a)(t.value,2),a=i[0],s=i[1];n.push(new f.h(a,0,s))}}catch(o){r.e(o)}finally{r.f()}return n.push(new f.h(0,this.height,0)),n}},{key:"getBottomFace",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(new f.a(e[n][0],e[n][1],e[n][2]));return t}},{key:"getSegmentFace",value:function(e){for(var t=[],n=0;n<=e;n++)t.push(new f.a((n+1)%e,n,e));return t}}]),e}(),w=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).addEventHandler=function(){window.addEventListener("mousemove",e.mousemoveHandler)},e.removeEventHandler=function(){window.removeEventListener("mousemove",e.mousemoveHandler)},e.mousemoveHandler=function(t){e.cone.rotation.y+=t.movementX/100,e.cone.rotation.z+=t.movementY/100},e.addModels=function(){var t=e.props.parameters,n=t.height,r=t.radius,i=t.segments,a=e.props.vertices,s=a.bottomTriangles,o=a.edges,c=new b(n,r,i).getGeometry(s,o),u=new f.d({color:4521796});e.cone=new f.c(c,u),e.scene.add(e.cone)},e.start=function(){e.frameId||(e.frameId=requestAnimationFrame(e.animate))},e.stop=function(){cancelAnimationFrame(e.frameId)},e.animate=function(){e.renderScene(),requestAnimationFrame(e.animate)},e.renderScene=function(){e.renderer.setSize(window.innerWidth,window.innerHeight),e.renderer.render(e.scene,e.camera)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.scene=new f.f;var e=new f.g(15658702);e.position.set(1e3,1e3,1e3),this.scene.add(e);var t=new f.g(14540238);t.position.set(-300,-300,-300),this.scene.add(t),this.camera=new f.e(90,window.innerWidth/window.innerHeight,1,1e3),this.camera.position.set(5,2,5),this.camera.lookAt(0,0,0),this.renderer=new f.i,this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.addModels(),this.renderScene(),this.start(),window.addEventListener("mousedown",this.addEventHandler),window.addEventListener("mouseup",this.removeEventHandler)}},{key:"componentWillUnmount",value:function(){this.stop(),window.removeEventListener("mousedown",this.addEventHandler),window.removeEventListener("mouseup",this.removeEventHandler),document.body.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return Object(r.jsx)("div",{ref:function(t){e.mount=t}})}}]),n}(i.Component),O=(n(27),function(){var e=Object(i.useState)(4),t=Object(m.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)(2),o=Object(m.a)(s,2),c=o[0],h=o[1],l=Object(i.useState)(14),p=Object(m.a)(l,2),v=p[0],f=p[1],g=Object(i.useState)(null),j=Object(m.a)(g,2),b=j[0],O=j[1],x=function(e){return function(t){e(t.target.value)}},y=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://infinite-depths-23650.herokuapp.com",e.next=3,fetch("".concat("https://infinite-depths-23650.herokuapp.com","/cone"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({radius:c,segments:v})});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(null),e.next=4,y();case 4:n=e.sent,O(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"input-group",children:[Object(r.jsxs)("form",{className:"input-form",onSubmit:E,children:[Object(r.jsx)("label",{className:"input-form__text",children:"\u0412\u044b\u0441\u043e\u0442\u0430 \u043a\u043e\u043d\u0443\u0441\u0430:"}),Object(r.jsx)("input",{className:"input-form__height",type:"range",min:"0.001",max:"7.000",name:"height",value:n,onChange:x(a),required:!0}),Object(r.jsx)("label",{className:"input-form__text",children:"\u0420\u0430\u0434\u0438\u0443\u0441 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u0443\u0441\u0430:"}),Object(r.jsx)("input",{className:"input-form__radius",type:"range",min:"0.001",max:"8.000",name:"radius",value:c,onChange:x(h),required:!0}),Object(r.jsx)("label",{className:"input-form__text",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u043e\u0432 \u043a\u043e\u043d\u0443\u0441\u0430:"}),Object(r.jsx)("input",{className:"input-form__segments",type:"range",min:"3",max:"100",value:v,name:"segments",onChange:x(f),required:!0}),Object(r.jsx)("button",{className:"input-form__btn",children:"\u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c"})]}),b&&Object(r.jsx)(w,{vertices:b,parameters:{height:n,radius:c,segments:v}})]})});var x=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(O,{})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),a(e),s(e)}))};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(x,{})}),document.getElementById("root")),y()}},[[28,1,2]]]);
//# sourceMappingURL=main.f46dbfb3.chunk.js.map